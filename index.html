<!DOCTYPE html>
<html>
  <head>
    <title>The PURE.CSS Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css">    
    <style>
      .main {
        margin: 2em auto;
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;     
        font-size: small; 
        font-family: Roboto, 'Liberation Mono', Courier, monospace;
        text-align: center;         
      }
      .text {
      	text-align: left;
        padding-left: 2em;
      }
      .annotation {
        text-align: center;
        font-style: italic;
      }
      .row-even {
        background: rgb(240, 240, 240)
      }
      .row-odd {
        background: rgb(250, 250, 250);
      }
    </style>
    <style media="screen">
      .vega-actions a {
        margin-right: 5px;
      }
    </style>
	  <script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>
  </head>


  <body>
  	<div class="main">
      <div class="pure-g row-odd">
        <div class="pure-u-1-3">
          <div class="pure-g">
            <div class="pure-u-1"><h1>The 'Information Economy'</h1></div>
          </div>
          <div class="pure-g">
            <div class="pure-u-1">
              <p class="text">
                Economist Victor R. Fuchs described in 1968 the rise of a 'Service Economy' spreading out from North America. Services did indeed continue to increase as a percentage of economic output throughout the world - today most 'advanced' economies are dominated by services.
                <br>
              </p>
            </div>
          </div>
          <div class="pure-g">
            <div class="pure-u-1"><div id="visServicesOverTime"></div></div>
          </div>
          <div class="pure-g">
            <div class="pure-u-1"><div id="visServicesOverTime2"></div></div>
          </div>
        </div>
        <div class="pure-u-2-3">
          <div id="visOutputComp"></div>
        </div>
      </div>
      <div class="pure-g row-even">
        <div class="pure-u-1-3">
          <div class="pure-g">
            <div class="pure-u-1"><h1>A Race for Innovation</h1></div>
          </div>
          <div class="pure-g">
            <div class="pure-u-1"><div id="visBasicVsDev"></div></div>
          </div>
        </div>
        <div class="pure-u-2-3">
          <div id="visResearchMaps"></div>
        </div>
      </div>
      <div class="pure-g row-even">
        
      </div>
    </div>
    <script>
      // Assign the specification to a local variable vlSpec.
      var vlOutputComparison = 
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","vconcat":[{"hconcat":[{"layer":[{"mark":{"type":"point","filled":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["income-group","region"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"datum.Year == 2014 && datum.Services != 0 && datum.Services != null&& datum[\"income-group\"] != null"}],"encoding":{"x":{"field":"economic-fitness","type":"quantitative","axis":{"title":null},"scale":{"type":"sqrt"}},"y":{"field":"Services","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,100]}},"size":{"field":"GDP","type":"quantitative","legend":null,"scale":{"range":[10,1000]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"Services","type":"nominal"},{"field":"economic-fitness","type":"nominal"}]},"title":null,"width":400,"height":300},{"mark":{"type":"line","color":"firebrick","clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["income-group","region"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"datum.Year == 2014 && datum.Services != 0 && datum.Services != null&& datum[\"income-group\"] != null"},{"regression":"Services","on":"economic-fitness","as":["regress-x","regress-y"]}],"encoding":{"x":{"field":"regress-x","type":"quantitative","axis":{"title":null},"scale":{"type":"sqrt"}},"y":{"field":"regress-y","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,100]}}},"title":null,"width":400,"height":300}]},{"layer":[{"mark":{"type":"point","filled":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["income-group","region"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"datum.Year == 2014 && datum.Manufacturing != 0 && datum.Manufacturing != null&& datum[\"income-group\"] != null"}],"encoding":{"x":{"field":"economic-fitness","type":"quantitative","axis":{"title":null},"scale":{"type":"sqrt"}},"y":{"field":"Manufacturing","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,100]}},"size":{"field":"GDP","type":"quantitative","legend":null,"scale":{"range":[10,1000]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"Manufacturing","type":"nominal"},{"field":"economic-fitness","type":"nominal"}]},"title":null,"width":400,"height":300},{"mark":{"type":"line","color":"firebrick","clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["income-group","region"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"datum.Year == 2014 && datum.Manufacturing != 0 && datum.Manufacturing != null&& datum[\"income-group\"] != null"},{"regression":"Manufacturing","on":"economic-fitness","as":["regress-x","regress-y"]}],"encoding":{"x":{"field":"regress-x","type":"quantitative","axis":{"title":null},"scale":{"type":"sqrt"}},"y":{"field":"regress-y","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,100]}}},"title":null,"width":400,"height":300}]}]},{"hconcat":[{"layer":[{"mark":{"type":"point","filled":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["income-group","region"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"datum.Year == 2014 && datum.Industry != 0 && datum.Industry != null&& datum[\"income-group\"] != null"}],"encoding":{"x":{"field":"economic-fitness","type":"quantitative","axis":{"title":null},"scale":{"type":"sqrt"}},"y":{"field":"Industry","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,100]}},"size":{"field":"GDP","type":"quantitative","legend":null,"scale":{"range":[10,1000]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"Industry","type":"nominal"},{"field":"economic-fitness","type":"nominal"}]},"title":null,"width":400,"height":300},{"mark":{"type":"line","color":"firebrick","clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["income-group","region"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"datum.Year == 2014 && datum.Industry != 0 && datum.Industry != null&& datum[\"income-group\"] != null"},{"regression":"Industry","on":"economic-fitness","as":["regress-x","regress-y"]}],"encoding":{"x":{"field":"regress-x","type":"quantitative","axis":{"title":null},"scale":{"type":"sqrt"}},"y":{"field":"regress-y","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,100]}}},"title":null,"width":400,"height":300}]},{"layer":[{"mark":{"type":"point","filled":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["income-group","region"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"datum.Year == 2014 && datum.Agriculture != 0 && datum.Agriculture != null&& datum[\"income-group\"] != null"}],"encoding":{"x":{"field":"economic-fitness","type":"quantitative","axis":{"title":null},"scale":{"type":"sqrt"}},"y":{"field":"Agriculture","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,100]}},"size":{"field":"GDP","type":"quantitative","legend":null,"scale":{"range":[10,1000]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"Agriculture","type":"nominal"},{"field":"economic-fitness","type":"nominal"}]},"title":null,"width":400,"height":300},{"mark":{"type":"line","color":"firebrick","clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["income-group","region"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"datum.Year == 2014 && datum.Agriculture != 0 && datum.Agriculture != null&& datum[\"income-group\"] != null"},{"regression":"Agriculture","on":"economic-fitness","as":["regress-x","regress-y"]}],"encoding":{"x":{"field":"regress-x","type":"quantitative","axis":{"title":null},"scale":{"type":"sqrt"}},"y":{"field":"regress-y","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,100]}}},"title":null,"width":400,"height":300}]}]}],"title":{"text":"Sector % of GDP vs Economic Fitness","subtitle":["Economic Fitness is defined by the World Bank as \"a measure of a country's diversification and ability to produce complex good on a globally competitive scale\".","Many countries score very low (with a number rounding to zero at 6dp). They are presented here on a logarithmic scale.","Bigger bubbles have larger GDP. The red line is a linear regression."],"font":"Arial","subtitleFont":"Arial","fontSize":14,"subtitlePadding":7,"offset":10,"subtitleLineHeight":15}}
      var vlServicesOverTime = 
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","vconcat":[{"layer":[{"mark":{"type":"area","color":"lightgrey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum.Year==1990 || datum.Year==2000 || datum.Year==2011 || datum.Year==2018"},{"filter":"isValid(datum.Services) && datum.Services > 0"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","aggregate":"average"}},"width":400},{"mark":{"type":"line","color":"#1f77b4"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum[\"Country Name\"] == 'China' &&(datum.Year==1990 || datum.Year==2000 || datum.Year==2011 || datum.Year==2018)"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","axis":{"title":"Services (% of GDP)","grid":false}}},"width":400},{"mark":{"type":"text","color":"#1f77b4","align":"left","dy":-15,"dx":-35},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum[\"Country Name\"] == 'China' && datum.Year==2018"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","axis":{"grid":false}},"text":{"field":"Country Name","type":"nominal"}},"width":400},{"mark":{"type":"line","color":"green"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum[\"Country Name\"] == 'United Kingdom' &&(datum.Year==1990 || datum.Year==2000 || datum.Year==2011 || datum.Year==2018)"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","axis":{"title":"Services (% of GDP)","grid":false}}},"width":400},{"mark":{"type":"text","color":"green","align":"left","dy":-15,"dx":-35},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum[\"Country Name\"] == 'United Kingdom' && datum.Year==2018"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","axis":{"grid":false}},"text":{"field":"Country Name","type":"nominal"}},"width":400}]}],"title":{"text":"A Transforming China","subtitle":["China is pushing its services sector to catch up with other \"advanced\" economies.","Grey area is the global average"],"font":"Arial","subtitleFont":"Arial","fontSize":14,"subtitlePadding":7,"offset":10,"subtitleLineHeight":15}}
      var vlResearchMaps = 
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","vconcat":[{"hconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","Researchers per million inhabitants (FTE)"]}}],"encoding":{"color":{"field":"Researchers per million inhabitants (FTE)","type":"quantitative","legend":{"orient":"right","title":"# per million"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"Researchers per million inhabitants (FTE)","type":"nominal"}]},"title":{"text":"Researchers per million inhabitants","subtitle":["Count is Full Time Equivalent, not including technicians"]},"width":350,"height":350,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Researchers per million inhabitants (FTE)"]}},{"filter":"datum[\"Researchers per million inhabitants (FTE)\"] == 0 || datum[\"Researchers per million inhabitants (FTE)\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":350,"height":350,"projection":"albers"}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD per capita (in current PPP$)"]}}],"encoding":{"color":{"field":"GERD per capita (in current PPP$)","type":"quantitative","legend":{"orient":"right","title":"Current PPP$"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD per capita (in current PPP$)","type":"nominal"}]},"title":{"text":"R&D Expenditure per Capita","subtitle":["Expenditure in current PPP$"]},"width":350,"height":350,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD per capita (in current PPP$)"]}},{"filter":"datum[\"GERD per capita (in current PPP$)\"] == 0 || datum[\"GERD per capita (in current PPP$)\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":350,"height":350,"projection":"albers"}]}],"resolve":{"scale":{"color":"independent"}}},{"hconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - financed by Business enterprise %"]}}],"encoding":{"color":{"field":"GERD - financed by Business enterprise %","type":"quantitative","legend":{"orient":"bottom","titleLimit":300,"title":"% of R&D Funding (sqrt scale)"},"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Business enterprise %","type":"nominal"}]},"title":{"text":"Research % Funded by Local Business","subtitle":["Remainder being funded by the not-for-profit sector, higher","education, and undisclosed sources"]},"width":350,"height":350,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Business enterprise %"]}},{"filter":"datum[\"GERD - financed by Business enterprise %\"] == 0 || datum[\"GERD - financed by Business enterprise %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":350,"height":350,"projection":"albers"}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - financed by Government %"]}}],"encoding":{"color":{"field":"GERD - financed by Government %","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Government %","type":"nominal"}]},"title":{"text":"Research % Funded by Government","subtitle":["Remainder being funded by the not-for-profit sector, higher","education, and undisclosed sources"]},"width":350,"height":350,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Government %"]}},{"filter":"datum[\"GERD - financed by Government %\"] == 0 || datum[\"GERD - financed by Government %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":350,"height":350,"projection":"albers"}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - financed by Rest of the world (abroad) %"]}}],"encoding":{"color":{"field":"GERD - financed by Rest of the world (abroad) %","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Rest of the world (abroad) %","type":"nominal"}]},"title":{"text":"Research % Funded Internationally","subtitle":["Remainder being funded by the not-for-profit sector, higher","education, and undisclosed sources"]},"width":350,"height":350,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Rest of the world (abroad) %"]}},{"filter":"datum[\"GERD - financed by Rest of the world (abroad) %\"] == 0 || datum[\"GERD - financed by Rest of the world (abroad) %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":350,"height":350,"projection":"albers"}]}]},{"hconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - Applied research %"]}}],"encoding":{"color":{"field":"GERD - Applied research %","type":"quantitative","legend":{"orient":"bottom","gradientLength":200,"title":"% of R&D"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Applied research %","type":"nominal"}]},"title":{"text":"Applied Research (as % of R&D)","subtitle":["Original investigation undertaken to acquire new knowledge,","directed towards a specific practical aim or objective."]},"width":350,"height":350,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Applied research %"]}},{"filter":"datum[\"GERD - Applied research %\"] == 0 || datum[\"GERD - Applied research %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":350,"height":350,"projection":"albers"}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - Basic research %"]}}],"encoding":{"color":{"field":"GERD - Basic research %","type":"quantitative"},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Basic research %","type":"nominal"}]},"title":{"text":"Basic Research (as % of R&D)","subtitle":["Experimental or theoretical work undertaken to acquire new","knowledge, without any particular application or use."]},"width":350,"height":350,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Basic research %"]}},{"filter":"datum[\"GERD - Basic research %\"] == 0 || datum[\"GERD - Basic research %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":350,"height":350,"projection":"albers"}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - Experimental development %"]}}],"encoding":{"color":{"field":"GERD - Experimental development %","type":"quantitative"},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Experimental development %","type":"nominal"}]},"title":{"text":"Experimental Development (as % of R&D)","subtitle":["Systematic work, drawing on research and practical experience","directed to creating or improving products and processes."]},"width":350,"height":350,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Experimental development %"]}},{"filter":"datum[\"GERD - Experimental development %\"] == 0 || datum[\"GERD - Experimental development %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":350,"height":350,"projection":"albers"}]}]}],"resolve":{"scale":{"color":"independent"}}}
      var vlBasicVsDevResearch =
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","layer":[{"mark":{"type":"point","filled":true},"selection":{"selectRegion":{"type":"multi","fields":["region"],"bind":"legend"}},"width":800,"height":500,"title":null,"encoding":{"size":{"field":"GERD per capita (in current PPP$)","type":"quantitative","title":"R&D $ Per Capita (current PPP)","scale":{"domain":[0,2500],"range":[30,800]},"legend":{"orient":"top"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Experimental development %","type":"nominal"},{"field":"GERD - Basic research %","type":"nominal"},{"field":"Researchers per million inhabitants (FTE)","type":"nominal"},{"field":"GERD per capita (in current PPP$)","type":"nominal"}]}},{"mark":{"type":"text","align":"left","dx":15,"baseline":"middle"},"transform":[{"filter":"datum[\"GERD - Experimental development %\"] > 63.3 ||datum[\"GERD - Basic research %\"] > 41"}],"encoding":{"text":{"field":"Country","type":"nominal"}}}],"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"params":[{"name":"SelectResearcherCount","value":0,"bind":{"input":"range","min":0,"max":6000,"step":1,"name":"Minimum # Researchers per Million Inhabitants"}}],"transform":[{"lookup":"CountryCode","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["region"]}},{"filter":"datum[\"GERD - Experimental development %\"] != 0&& datum.region != null&& toNumber(datum[\"Researchers per million inhabitants (FTE)\"]) > SelectResearcherCount"}],"encoding":{"opacity":{"condition":{"selection":"selectRegion","value":0.7},"value":0.15},"x":{"field":"GERD - Experimental development %","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,90]}},"y":{"field":"GERD - Basic research %","type":"quantitative","axis":{"grid":false},"scale":{"domain":[0,60]}},"color":{"field":"region","type":"nominal","title":"Region","scale":{"domain":["East Asia & Pacific","Europe & Central Asia","Latin America & Caribbean","Middle East & North Africa","North America","South Asia","Sub-Saharan Africa"]}}},"title":{"text":"Composition of R&D by Activity","subtitle":"Bigger bubbles spend more per capita ($PPP)","font":"Arial","subtitleFont":"Arial","fontSize":14,"subtitlePadding":7,"offset":10,"subtitleLineHeight":15}}
      // Embed the visualization in the container with id `vis`
      vegaEmbed('#visOutputComp', vlOutputComparison);
      vegaEmbed('#visServicesOverTime', vlServicesOverTime);
      vegaEmbed('#visServicesOverTime2', vlServicesOverTime);
      vegaEmbed('#visResearchMaps', vlResearchMaps);
      vegaEmbed('#visBasicVsDev', vlBasicVsDevResearch);
    </script>
  </body>
</html>  


