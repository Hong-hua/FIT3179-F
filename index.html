<!DOCTYPE html>
<html>
  <head>
    <title>Vega-Lite Bar Chart</title>
    <meta charset="utf-8" />

    <script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

    <style media="screen">
      /* Add space between Vega-Embed links  */
      .vega-actions a {
        margin-right: 5px;
      }
    </style>
  </head>
  <body>
    <h1>Template for Embedding Vega-Lite Visualization</h1>
    <!-- Container for the visualization -->
    <div id="vis"></div>

    <script>
      // Assign the specification to a local variable vlSpec.
      var vlSpec = 
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","vconcat":[{"hconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","Researchers per million inhabitants (FTE)"]}}],"encoding":{"color":{"field":"Researchers per million inhabitants (FTE)","type":"quantitative","legend":{"orient":"right","title":"# per million"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"Researchers per million inhabitants (FTE)","type":"nominal"}]},"title":{"text":"Researchers per million inhabitants","subtitle":["Count is Full Time Equivalent, not including technicians"]},"width":500,"height":500},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Researchers per million inhabitants (FTE)"]}},{"filter":"datum[\"Researchers per million inhabitants (FTE)\"] == 0 || datum[\"Researchers per million inhabitants (FTE)\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":500,"height":500}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD per capita (in current PPP$)"]}}],"encoding":{"color":{"field":"GERD per capita (in current PPP$)","type":"quantitative","legend":{"orient":"right","title":"Current PPP$"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD per capita (in current PPP$)","type":"nominal"}]},"title":{"text":"R&D Expenditure per Capita","subtitle":["Expenditure in current PPP$"]},"width":500,"height":500},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD per capita (in current PPP$)"]}},{"filter":"datum[\"GERD per capita (in current PPP$)\"] == 0 || datum[\"GERD per capita (in current PPP$)\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":500,"height":500}]}],"resolve":{"scale":{"color":"independent"}}},{"hconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - financed by Business enterprise %"]}}],"encoding":{"color":{"field":"GERD - financed by Business enterprise %","type":"quantitative","legend":{"orient":"bottom","titleLimit":300,"title":"% of R&D Funding (sqrt scale)"},"scale":{"type":"sqrt"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Business enterprise %","type":"nominal"}]},"title":{"text":"Research % Funded by Local Business","subtitle":["Remainder being funded by government, not-for-profit sector,","higher education, and interests abroad"]},"width":500,"height":500},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Business enterprise %"]}},{"filter":"datum[\"GERD - financed by Business enterprise %\"] == 0 || datum[\"GERD - financed by Business enterprise %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":500,"height":500}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - financed by Government %"]}}],"encoding":{"color":{"field":"GERD - financed by Government %","type":"quantitative","legend":null,"scale":{"type":"sqrt"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Government %","type":"nominal"}]},"title":{"text":"Research % Funded by Government","subtitle":["Remainder being funded by government, not-for-profit sector,","higher education, and interests abroad"]},"width":500,"height":500},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Government %"]}},{"filter":"datum[\"GERD - financed by Government %\"] == 0 || datum[\"GERD - financed by Government %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":500,"height":500}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - financed by Rest of the world (abroad) %"]}}],"encoding":{"color":{"field":"GERD - financed by Rest of the world (abroad) %","type":"quantitative","legend":null,"scale":{"type":"sqrt"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Rest of the world (abroad) %","type":"nominal"}]},"title":{"text":"Research % Funded Internationally","subtitle":["Remainder being funded by government, not-for-profit sector,","higher education, and interests abroad"]},"width":500,"height":500},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Rest of the world (abroad) %"]}},{"filter":"datum[\"GERD - financed by Rest of the world (abroad) %\"] == 0 || datum[\"GERD - financed by Rest of the world (abroad) %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":500,"height":500}]}]},{"hconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - Applied research %"]}}],"encoding":{"color":{"field":"GERD - Applied research %","type":"quantitative","legend":{"orient":"bottom","gradientLength":200,"title":"% of R&D"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Applied research %","type":"nominal"}]},"title":{"text":"Applied Research (as % of R&D)","subtitle":["Original investigation undertaken in order to acquire new knowledge.","It is, however, directed primarily towards a specific practical aim or objective.","",""]},"width":500,"height":500},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Applied research %"]}},{"filter":"datum[\"GERD - Applied research %\"] == 0 || datum[\"GERD - Applied research %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":500,"height":500}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - Basic research %"]}}],"encoding":{"color":{"field":"GERD - Basic research %","type":"quantitative"},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Basic research %","type":"nominal"}]},"title":{"text":"Basic Research (as % of R&D)","subtitle":["Basic research is experimental or theoretical work undertaken primarily","to acquire new knowledge of the underlying foundations of phenomena and","observable facts, without any particular application or use in view.",""]},"width":500,"height":500},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Basic research %"]}},{"filter":"datum[\"GERD - Basic research %\"] == 0 || datum[\"GERD - Basic research %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":500,"height":500}]},{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - Experimental development %"]}}],"encoding":{"color":{"field":"GERD - Experimental development %","type":"quantitative"},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Experimental development %","type":"nominal"}]},"title":{"text":"Experimental Development (as % of R&D)","subtitle":["Experimental development is systematic work, drawing on knowledge gained","from research and practical experience and producing additional knowledge,","which is directed to producing new products or processes or to improving","existing products or processes."]},"width":500,"height":500},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Experimental development %"]}},{"filter":"datum[\"GERD - Experimental development %\"] == 0 || datum[\"GERD - Experimental development %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"}},"width":500,"height":500}]}]}],"resolve":{"scale":{"color":"independent"}}}
      ;

      // Embed the visualization in the container with id `vis`
      vegaEmbed('#vis', vlSpec);
    </script>
  </body>
</html>
